add_executable(unit-test unit-test.cpp)
target_link_libraries(unit-test random-graphics)

function(add_gl_app target source)
    if (Qt6Widgets_FOUND)
        add_executable(${target} ${source})
        target_link_libraries(${target} random-graphics Qt::Widgets)
    elseif (Qt5Widgets_FOUND)
        add_executable(${target} ${source})
        target_link_libraries(${target} random-graphics Qt5::Widgets)
    endif()
    if (TARGET ${target} AND UNIX)
        target_link_libraries(${target} dl)
    endif()
endfunction()

if (OPENGL_FOUND)
    add_gl_app(qopengl-test qopengl-test.cpp)
    add_gl_app(opengl-test opengl-test.cpp)
endif()

